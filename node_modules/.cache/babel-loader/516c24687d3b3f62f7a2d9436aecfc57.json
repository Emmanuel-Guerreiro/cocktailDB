{"ast":null,"code":"var _s = $RefreshSig$();\n\n//TODO: ver como formatear los ingredientes y sus cantidades en alguna estructura de datos\n//que los represente mejor\n//TODO: IMPLEMENTAR ESTO EN UN HOOK PORQUE LO NECESITO VARIAS VECES EN EL HOME\n//TODO: ver que hacer ante error en el fetch de la data\n//TODO: como logro mas especificidad en la busqueda y no busque siempre desde a\nimport React, { useEffect, useState } from \"react\";\n\nconst useBusqueda = buscador => {\n  _s();\n\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    if (buscador.length === 3) {\n      buscaTragos(buscador).then(res => {\n        setData(res);\n      });\n    } else if (buscador.length === 0) {\n      buscaTragos(\"a\").then(res => {\n        setData(res);\n      });\n    }\n  });\n\n  const buscaTragos = async cadenaBuscar => {\n    try {\n      const tragos = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?f=${cadenaBuscar}`);\n      const tragosJSON = await tragos.json();\n      const tragoFormateado = formatearTragos(tragosJSON.drinks);\n      return tragoFormateado;\n    } catch (error) {\n      console.log(\"No encontro nada\");\n    }\n\n    const formatearTragos = arrayTragos => {\n      const arrayTragosFormato = arrayTragos.map(trago => {\n        return {\n          id: trago.idDrink,\n          nombre: trago.strDrink,\n          tipo: trago.strAlcoholic,\n          imagen: trago.strDrinkThumb,\n          instrucciones: trago.strInstructions\n        };\n      });\n      return arrayTragosFormato;\n    };\n\n    return data;\n  };\n};\n\n_s(useBusqueda, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\nexport default useBusqueda;","map":{"version":3,"sources":["C:/Users/marco/Emma/practicasReact/cocktailDB/src/interactuarAPI/buscarTragos.js"],"names":["React","useEffect","useState","useBusqueda","buscador","data","setData","length","buscaTragos","then","res","cadenaBuscar","tragos","fetch","tragosJSON","json","tragoFormateado","formatearTragos","drinks","error","console","log","arrayTragos","arrayTragosFormato","map","trago","id","idDrink","nombre","strDrink","tipo","strAlcoholic","imagen","strDrinkThumb","instrucciones","strInstructions"],"mappings":";;AAAA;AACA;AAEA;AAEA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,MAAMC,WAAW,GAAIC,QAAD,IAAc;AAAA;;AAChC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,EAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIG,QAAQ,CAACG,MAAT,KAAoB,CAAxB,EAA2B;AACzBC,MAAAA,WAAW,CAACJ,QAAD,CAAX,CAAsBK,IAAtB,CAA4BC,GAAD,IAAS;AAClCJ,QAAAA,OAAO,CAACI,GAAD,CAAP;AACD,OAFD;AAGD,KAJD,MAIO,IAAIN,QAAQ,CAACG,MAAT,KAAoB,CAAxB,EAA2B;AAChCC,MAAAA,WAAW,CAAC,GAAD,CAAX,CAAiBC,IAAjB,CAAuBC,GAAD,IAAS;AAC7BJ,QAAAA,OAAO,CAACI,GAAD,CAAP;AACD,OAFD;AAGD;AACF,GAVQ,CAAT;;AAYA,QAAMF,WAAW,GAAG,MAAOG,YAAP,IAAwB;AAC1C,QAAI;AACF,YAAMC,MAAM,GAAG,MAAMC,KAAK,CACvB,4DAA2DF,YAAa,EADjD,CAA1B;AAGA,YAAMG,UAAU,GAAG,MAAMF,MAAM,CAACG,IAAP,EAAzB;AACA,YAAMC,eAAe,GAAGC,eAAe,CAACH,UAAU,CAACI,MAAZ,CAAvC;AACA,aAAOF,eAAP;AACD,KAPD,CAOE,OAAOG,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACD;;AAED,UAAMJ,eAAe,GAAIK,WAAD,IAAiB;AACvC,YAAMC,kBAAkB,GAAGD,WAAW,CAACE,GAAZ,CAAiBC,KAAD,IAAW;AACpD,eAAO;AACLC,UAAAA,EAAE,EAAED,KAAK,CAACE,OADL;AAELC,UAAAA,MAAM,EAAEH,KAAK,CAACI,QAFT;AAGLC,UAAAA,IAAI,EAAEL,KAAK,CAACM,YAHP;AAILC,UAAAA,MAAM,EAAEP,KAAK,CAACQ,aAJT;AAKLC,UAAAA,aAAa,EAAET,KAAK,CAACU;AALhB,SAAP;AAOD,OAR0B,CAA3B;AASA,aAAOZ,kBAAP;AACD,KAXD;;AAaA,WAAOlB,IAAP;AACD,GA1BD;AA2BD,CA1CD;;GAAMF,W;;AA4CN,eAAeA,WAAf","sourcesContent":["//TODO: ver como formatear los ingredientes y sus cantidades en alguna estructura de datos\r\n//que los represente mejor\r\n\r\n//TODO: IMPLEMENTAR ESTO EN UN HOOK PORQUE LO NECESITO VARIAS VECES EN EL HOME\r\n\r\n//TODO: ver que hacer ante error en el fetch de la data\r\n//TODO: como logro mas especificidad en la busqueda y no busque siempre desde a\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst useBusqueda = (buscador) => {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (buscador.length === 3) {\r\n      buscaTragos(buscador).then((res) => {\r\n        setData(res);\r\n      });\r\n    } else if (buscador.length === 0) {\r\n      buscaTragos(\"a\").then((res) => {\r\n        setData(res);\r\n      });\r\n    }\r\n  });\r\n\r\n  const buscaTragos = async (cadenaBuscar) => {\r\n    try {\r\n      const tragos = await fetch(\r\n        `https://www.thecocktaildb.com/api/json/v1/1/search.php?f=${cadenaBuscar}`\r\n      );\r\n      const tragosJSON = await tragos.json();\r\n      const tragoFormateado = formatearTragos(tragosJSON.drinks);\r\n      return tragoFormateado;\r\n    } catch (error) {\r\n      console.log(\"No encontro nada\");\r\n    }\r\n\r\n    const formatearTragos = (arrayTragos) => {\r\n      const arrayTragosFormato = arrayTragos.map((trago) => {\r\n        return {\r\n          id: trago.idDrink,\r\n          nombre: trago.strDrink,\r\n          tipo: trago.strAlcoholic,\r\n          imagen: trago.strDrinkThumb,\r\n          instrucciones: trago.strInstructions,\r\n        };\r\n      });\r\n      return arrayTragosFormato;\r\n    };\r\n\r\n    return data;\r\n  };\r\n};\r\n\r\nexport default useBusqueda;\r\n"]},"metadata":{},"sourceType":"module"}